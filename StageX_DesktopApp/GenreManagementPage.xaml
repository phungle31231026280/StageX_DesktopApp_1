<Page x:Class="StageX_DesktopApp.GenreManagementPage"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      Title="Quản lý Thể loại"
      Background="#FF1A1A1A" Foreground="White"
      Loaded="Page_Loaded">
    <Page.Resources>
        <Style x:Key="ButtonAddStyle" TargetType="Button">
            <Setter Property="Background" Value="#FF198754"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="Padding" Value="10,5"/>
            <Setter Property="FontWeight" Value="Bold"/>
        </Style>
        <Style x:Key="ButtonEditStyle" TargetType="Button">
            <Setter Property="Background" Value="#FF0D6EFD"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="Padding" Value="8,3"/>
            <Setter Property="Margin" Value="0,0,5,0"/>
        </Style>
        <Style x:Key="ButtonDeleteStyle" TargetType="Button">
            <Setter Property="Background" Value="#FFDC3545"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="Padding" Value="8,3"/>
        </Style>
        <Style x:Key="ButtonSaveStyle" TargetType="Button" BasedOn="{StaticResource ButtonEditStyle}">
            <Setter Property="Padding" Value="10,5"/>
        </Style>
        <Style x:Key="ButtonCancelStyle" TargetType="Button">
            <Setter Property="Background" Value="#FF6C757D"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="Padding" Value="10,5"/>
        </Style>
    </Page.Resources>

    <ScrollViewer VerticalScrollBarVisibility="Auto">
        <StackPanel Margin="25">
            <TextBlock Text="Quản lý thể loại" FontSize="24" FontWeight="Bold" Margin="0,0,0,15"/>

            <TextBlock Text="Thêm thể loại mới" FontSize="18" FontWeight="SemiBold" Margin="0,10,0,5"/>
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                <TextBox x:Name="AddGenreNameTextBox" Grid.Column="0" Padding="8" FontSize="14"/>
                <Button x:Name="AddGenreButton" Grid.Column="1" Content="Thêm" Style="{StaticResource ButtonAddStyle}" Margin="10,0,0,0" Click="AddGenreButton_Click"/>
            </Grid>

            <StackPanel x:Name="EditGenrePanel" Margin="0,20,0,0" Visibility="Collapsed">
                <TextBlock Text="Chỉnh sửa thể loại" FontSize="18" FontWeight="SemiBold" Margin="0,10,0,5"/>
                <TextBox x:Name="EditGenreIdTextBox" Visibility="Collapsed"/>
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>
                    <TextBox x:Name="EditGenreNameTextBox" Grid.Column="0" Padding="8" FontSize="14"/>
                    <Button x:Name="SaveGenreButton" Grid.Column="1" Content="Lưu" Style="{StaticResource ButtonSaveStyle}" Margin="10,0,0,0" Click="SaveGenreButton_Click"/>
                    <Button x:Name="CancelEditButton" Grid.Column="2" Content="Hủy" Style="{StaticResource ButtonCancelStyle}" Margin="5,0,0,0" Click="CancelEditButton_Click"/>
                </Grid>
              
            </StackPanel>

            <TextBlock Text="Danh sách thể loại" FontSize="18" FontWeight="SemiBold" Margin="0,30,0,10"/>
            <DataGrid x:Name="GenresGrid"
                  IsReadOnly="True" AutoGenerateColumns="False" CanUserAddRows="False"
                  LoadingRow="GenresGrid_LoadingRow" HeadersVisibility="Column"
                      Background="Transparent" RowBackground="Transparent" Foreground="White" BorderThickness="0"
GridLinesVisibility="Horizontal" HorizontalGridLinesBrush="#333"  RowHeaderWidth="0">
                <DataGrid.Resources>
                    <Style TargetType="DataGridColumnHeader">
                        <Setter Property="Background" Value="Black"/>
                        <Setter Property="Foreground" Value="White"/>
                        <Setter Property="Padding" Value="10,8"/>
                        <Setter Property="FontSize" Value="14"/>
                        <Setter Property="FontWeight" Value="Bold"/>
                    </Style>
                </DataGrid.Resources>
                <DataGrid.Columns>

                    <DataGridTextColumn Header="ID" Binding="{Binding GenreId}" Width="50" Visibility="Collapsed"/>
                    <DataGridTextColumn Header="Tên thể loại" Binding="{Binding GenreName}" Width="*"/>
                    <DataGridTemplateColumn Header="Hành động" Width="Auto">
                       
                        <DataGridTemplateColumn.CellTemplate>
                            <DataTemplate>
                                <StackPanel Orientation="Horizontal">
                                    <Button x:Name="EditButton" Content="Chỉnh sửa" Style="{StaticResource ButtonEditStyle}" Click="EditButton_Click"/>
                                    <Button x:Name="DeleteButton" Content="Xóa" Style="{StaticResource ButtonDeleteStyle}" Click="DeleteButton_Click"/>
                                </StackPanel>
                            </DataTemplate>
                        </DataGridTemplateColumn.CellTemplate>
                    </DataGridTemplateColumn>
                </DataGrid.Columns>
            </DataGrid>
        </StackPanel>
    </ScrollViewer>
</Page>